let laksaPitanja;_61b‍.w("./pitanja",[["default",["laksaPitanja"],function(v){laksaPitanja=v}]]);


let trenutnoPitanje = 0;
let rezultat = 0;
let odabraneOpcije = [];

const pitanje = document.getElementById('pitanje');
const odgovor = document.getElementById('odgovor');
const sljedeceDugme = document.getElementById('sljedece-dugme');
const pocetnoDugme = document.getElementById('pocetno-dugme');

function sljedecePitanje() {
    const RandomPitanje = Math.floor(Math.random() * laksaPitanja.length);
    trenutnoPitanje = RandomPitanje;
    const trenutnoKviznoPitanje = laksaPitanja[trenutnoPitanje];
    pitanje.innerHTML = trenutnoKviznoPitanje.question;

    odgovor.innerHTML = "";
    odabraneOpcije = [];

    trenutnoKviznoPitanje.options.forEach((option, index) => {
        const dugme = document.createElement("button");
        dugme.innerText = option;
        dugme.addEventListener("click", () => oznaciOdgovor(option, dugme, index));
        odgovor.appendChild(dugme);
    });
}

function oznaciOdgovor(userAnswer, dugme, index) {
    if (odabraneOpcije.includes(index)) {
        alert("Već ste odabrali jednu opciju! ");
        return;
    }

    dugme.removeEventListener("click", () => oznaciOdgovor(userAnswer, dugme, index));

    odabraneOpcije.push(index);

    dugme.style.backgroundColor = '#3498db';
    dugme.style.color = 'white';
    sljedeceDugme.addEventListener("click" , ()=> provjeriOdgovor(userAnswer,dugme,index))

}


function provjeriOdgovor(userAnswer, dugme , index)
{
    setTimeout(() => {
        const isTacanOdgovor = userAnswer === laksaPitanja[trenutnoPitanje].correctAnswer;
        dugme.style.backgroundColor = isTacanOdgovor ? '#2ecc71' : '#e74c3c';
        dugme.style.color = 'white';
    }, 1000);

    setTimeout(() => {
        const isTacanOdgovor = userAnswer === laksaPitanja[trenutnoPitanje].correctAnswer;

        if (isTacanOdgovor) {
            rezultat++;
            sljedecePitanje();
        } else {
            zavrsiKviz();
        }
    }, 2000);
}


function zavrsiKviz() {
    pitanje.innerText = "Tvoj rezultat je " + Number(rezultat);
    odgovor.innerHTML = "";
    sljedeceDugme.style.display = "inline";
}

function PonoviSve() {
    trenutnoPitanje = 0;
    rezultat = 0;
    sljedecePitanje();
    sljedeceDugme.style.display = "inline";
}

pocetnoDugme.addEventListener("click", PonoviSve);

sljedecePitanje();